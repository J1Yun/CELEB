<link rel="stylesheet" href="/css/productDetail.css" />

<section class="py-5">
  <div class="container px-4 px-lg-5 my-5 rounded" style="background-color: white">
    <div class="row gx-4 gx-lg-5 align-items-top">
      <h2 id="productName">
        <a href="/store/1"><i class="far fa-arrow-alt-circle-left"></i></a><b><%= product.productName %></b>
      </h2>
      <div class="col-md-8">
        <!--이미지-->
        <div class="card mb-3">
          <img src="<%= product.imageUrl %>" class="card-img-top" alt="..." />
        </div>
        <div class="card mx-auto">
          <div class="card-header">주문시 유의사항</div>
          <div class="card-body">
            <p class="card-text"><%= product.info %></p>
          </div>
        </div>
        <div class="card mx-auto mt-4 mb-4">
          <div class="card-header">상품 상세보기</div>
          <div class="card-body slide-image gx-2">
            <% for ( let image of product.detailImageUrl.split(',')) { %>
            <div><img class="example-image" src="<%= image %>" /></div>
            <% } %>
          </div>
          <script type="text/javascript">
            $('.slide-image').slick({
              infinite: true,
              slidesToShow: 3,
              slidesToScroll: 3,
            });
          </script>
        </div>
      </div>
      <div class="col-md-4">
        <% for (let key in productOption) { %>
        <div class="option-section">
          <h3><%= productOption[key][0].categoryName %></h3>
          <% for ( let value of productOption[key] ) { %> <% if (value.type === 'CHECKBOX') { %>
          <div class="form-check">
            <input class="form-check-input" type="checkbox" name="flexRadioDefault" id="checkbox2" />
            <label class="form-check-label" for="checkbox2"> <%= value.optionName %> </label>
            <span class="text-end">+<%= value.price %>원</span>
          </div>
          <% } else if (value.type === 'RADIO') { %>
          <div class="form-check">
            <input class="form-check-input" type="radio" name="flexRadioDefault" id="flexRadioDefault1" />
            <label class="form-check-label" for="flexRadioDefault1"> <%= value.optionName %> </label>
            <span class="text-end">+<%= value.price %>원</span>
          </div>
          <% } else if (value.type === 'TEXT') { %>
          <div class="input-group">
            <span class="input-group-text"><%= value.optionName %></span>
            <input class="form-control" aria-label="With textarea" />
            <span class="text-end">+<%= value.price %>원</span>
          </div>
          <% } else if (value.type === 'COLOR') { %>
          <div class="input-group">
            <span class="input-group-text"><%= value.optionName %></span>
            <input type="color" class="form-control form-control-color" id="exampleColorInput" value="#563d7c" title="Choose your color" />
            <span class="text-end">+<%= value.price %>원</span>
          </div>
          <% } } %>
        </div>
        <% } %>

        <div class="option-section">
          <h3>요청사항 및 도안 (선택)</h3>
          <div class="input-group">
            <span class="input-group-text">요청사항</span>
            <textarea class="form-control" aria-label="With textarea"></textarea>
          </div>
          <div class="input-group mb-3">
            <label class="input-group-text" for="inputGroupFile01">도안</label>
            <input type="file" class="form-control" id="inputGroupFile01" />
          </div>
        </div>
        <div>
          <h2>픽업 날짜 설정</h2>
          <input id="datepicker" class="d-grid mx-auto" />
          <script>
            $('#datepicker').datepicker({
              uiLibrary: 'bootstrap4',
              disabled: ['2021-10-10'],
            });
          </script>
        </div>
        <div class="d-grid mx-auto" style="margin-top: 74%; margin-bottom: 5%">
          <button class="btn btn-outline-success" type="submit" value="Submit">주문하기</button>
        </div>
      </div>
    </div>
  </div>
</section>
